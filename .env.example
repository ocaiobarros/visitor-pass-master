# ============================================
# Guarda Operacional - Variáveis de Ambiente
# ============================================
# 
# INSTRUÇÕES:
#   1. Copie este arquivo para .env
#   2. Preencha os valores obrigatórios (marcados com OBRIGATÓRIO)
#   3. Execute: docker-compose up -d --build
#
# ============================================

# ------------------------------------------
# CONFIGURAÇÕES DO BANCO DE DADOS
# ------------------------------------------

# Usuário do PostgreSQL (padrão: postgres)
DB_USER=postgres

# OBRIGATÓRIO: Senha do banco de dados
# Gere uma senha forte com: openssl rand -base64 32 | tr -dc 'a-zA-Z0-9' | head -c 32
DB_PASSWORD=

# Nome do banco de dados (padrão: guarda_operacional)
DB_NAME=guarda_operacional

# Porta do PostgreSQL (padrão: 5432)
DB_PORT=5432

# ------------------------------------------
# CONFIGURAÇÕES DE SEGURANÇA (JWT)
# ------------------------------------------

# OBRIGATÓRIO: Chave secreta para tokens JWT
# Gere uma chave segura com: openssl rand -base64 32
JWT_SECRET=

# Tempo de expiração do token em segundos (padrão: 3600 = 1 hora)
JWT_EXPIRY=3600

# OBRIGATÓRIO: Chave anônima (ANON_KEY) - DEVE ser um JWT válido
# Gere com o comando abaixo (substitua <JWT_SECRET> pelo valor real):
#   node -e "console.log(require('jsonwebtoken').sign({role:'anon',iss:'supabase'},process.env.JWT_SECRET,{expiresIn:'10y'}))"
# Formato correto: xxxxx.yyyyy.zzzzz (3 partes separadas por ponto)
ANON_KEY=

# OBRIGATÓRIO: Chave service_role (SERVICE_ROLE_KEY) - DEVE ser um JWT válido
# Gere com o comando abaixo (substitua <JWT_SECRET> pelo valor real):
#   node -e "console.log(require('jsonwebtoken').sign({role:'service_role',iss:'supabase'},process.env.JWT_SECRET,{expiresIn:'10y'}))"
# Formato correto: xxxxx.yyyyy.zzzzz (3 partes separadas por ponto)
SERVICE_ROLE_KEY=

# ------------------------------------------
# CONFIGURAÇÕES DE REDE
# ------------------------------------------

# IP do servidor (usado para acessar de outros dispositivos)
# Em produção, coloque o IP real do servidor
HOST_IP=localhost

# URL do site (para redirecionamentos de autenticação)
SITE_URL=http://localhost

# Portas dos serviços
APP_PORT=80
API_PORT=3000
AUTH_PORT=9999
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443

# ------------------------------------------
# CONFIGURAÇÕES DO SISTEMA
# ------------------------------------------

# Nome do sistema exibido na interface
SYSTEM_NAME=GUARDA OPERACIONAL

# Desabilitar cadastro de novos usuários (true/false)
DISABLE_SIGNUP=false

# Auto-confirmar email no cadastro (true = sem verificação de email)
ENABLE_EMAIL_AUTOCONFIRM=true

# ------------------------------------------
# CONFIGURAÇÕES DE EMAIL (Opcional)
# ------------------------------------------
# Necessário apenas se ENABLE_EMAIL_AUTOCONFIRM=false

# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=seu-email@gmail.com
# SMTP_PASS=sua-senha-de-app
# SMTP_ADMIN_EMAIL=admin@suaempresa.com

# ------------------------------------------
# USUÁRIO ADMINISTRADOR INICIAL
# ------------------------------------------
# Estas credenciais serão usadas para criar o primeiro admin

ADMIN_EMAIL=admin@sistema.local
ADMIN_PASSWORD=Admin@123
ADMIN_NAME=Administrador
